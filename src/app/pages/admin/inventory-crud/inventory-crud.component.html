<app-adminhead></app-adminhead>
<table class="table">
	<thead>
		<tr>
			<th>Item Name</th>
			<th>ImageUrl</th>
			<th>Price</th>
			<th>Stock</th>
			<th>Actions</th>
		</tr>
	</thead>
	<tbody>
		<tr #row *ngFor="let item of Items; let i = index">
			<td>
				<input
					[readonly]="listArray[i].toggle"
					class="flex-grow-1"
					type="text"
					style="border-style: none"
					[(ngModel)]="Items[i].name" />
			</td>
			<td>
				<input
					[readonly]="listArray[i].toggle"
					class="flex-grow-1"
					type="text"
					style="border-style: none"
					[(ngModel)]="Items[i].imageUrl" />
			</td>
			<td>
				<input
					[readonly]="listArray[i].toggle"
					class="flex-grow-1"
					type="number"
					style="border-style: none"
					[(ngModel)]="Items[i].stock" />
			</td>
			<td>
				$
				<input
					[readonly]="listArray[i].toggle"
					class="flex-grow-1"
					type="number"
					style="border-style: none"
					[(ngModel)]="Items[i].price" />
			</td>
			<td class="d-flex justify-content-between">
				<i
					[class]="listArray[i].class"
					(click)="
						listArray[i].toggle
							? (listArray[i].class = 'fa fa-plus') &&
							  (listArray[i].toggle = !listArray[i].toggle)
							: (listArray[i].class = 'fa fa-pencil') &&
							  (listArray[i].toggle = !listArray[i].toggle) &&
							  updateItem(item._id!, Items[i])
					"
					style="font-size: 32px"></i>
				<i
					class="fa fa-remove"
					(click)="deleteItem(item._id!)"
					style="font-size: 32px"></i>
			</td>
		</tr>
		<tr>
			<td>
				<input
					class="flex-grow-1"
					type="text"
					style="border-style: none"
					placeholder="New Item"
					[(ngModel)]="newItem.name" />
			</td>
			<td>
				<input
					class="flex-grow-1"
					type="text"
					style="border-style: none"
					placeholder="New Image Url"
					[(ngModel)]="newItem.imageUrl" />
			</td>
			<td>
				$
				<input
					class="flex-grow-1"
					type="number"
					style="border-style: none"
					placeholder="+"
					[(ngModel)]="newItem.price" />
			</td>
			<td>
				<input
					class="flex-grow-1"
					type="number"
					style="border-style: none"
					placeholder="+"
					[(ngModel)]="newItem.stock" />
			</td>
			<td style="text-align: center">
				<i
					class="fa fa-plus"
					(click)="createItem(newItem)"
					style="font-size: 32px"></i>
			</td>
		</tr>
	</tbody>
</table>
